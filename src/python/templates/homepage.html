 
<!DOCTYPE html>

<!-- This file will serve as the main template format to avoid redundant html across multiple template files -->
<html>
	<head>

		<meta charset="utf-8">
		<title>Homeschool Dashboard</title>
		<!-- Adjusts the content to fit mobile device displays. -->
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<!--Import materialize support js and css files-->
		
		<!-- javascript had to be placed above the css load for materialize related javascript objects to be used. -->
		<!-- for the correct modal jquery, import in the followinng order: (1) css, (2) jquery, (3) js -->
		<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/materialize.min.css') }}"/>

		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		
		<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
		<script type="text/javascript" src="{{ url_for('static', filename='js/materialize.min.js') }}"></script>
		<script type="text/javascript" src="{{ url_for('static', filename='js/chart.min.js') }}"></script>
	</head>
	
	<body style="background-color:#263238;">>
		<div class="row">
			<nav class="col s12 red darken-1">
			  <div class="nav-wrapper" style="padding-left:1%">
				<a href="#!" class="brand-logo left">HomeSchool Dashboard</a>
			  <ul id="slide-out" class="sidenav blue-grey darken-3">
				<li>
					<div class="user-view">
						<div class="background">
							<img style="width:100%;height:90%" src="{{ url_for('static', filename='images/SuperMarioDeluxSwitch_BG.jpg') }}">
						</div>
						<a href="#user"><img class="circle" src="{{ url_for('static', filename='images/nabbit_avi.jpeg') }}"></a>
						<a href="#name"><span class="white-text name">Marz The Hun</span></a>
						<a href="#email"><span class="white-text email">MarzFauxEmail@gmail.com</span></a>
					</div>
				</li>
				<!--li><a href="#!"><i class="material-icons">cloud</i>School Performance</a></li>
				<li><a href="#!">Behavior</a></li>
				<li><div class="divider"></div></li>
				<li><a class="subheader">Behavior Points</a></li>
				<li><a class="waves-effect" href="#!">Third Link With Waves</a></li-->
				<!--li>
					<ul id="alarms table" class="collection with-header black-text">
						<li class="collection-header"><b>Alarms</b></li>
						<li class="collection-item">Alarm 1
							<p>
								<span>8:30am</span><br>
								<span>Mon;Tue;Wed;</span>
							</p>
						</li>
						<li class="collection-item">Alarm 2
							<p>
								<span>10:45am</span><br>
								<span>Tue;Thu;</span>
							</p>
						</li>
						<li class="collection-item">Alarm 3
							<p>
								<span>8:30am</span><br>
								<span>Mon;Tue;Wed;</span>
							</p>
						</li>
						<li class="collection-item">Alarm 4
							<p>
								<span>10:45am</span><br>
								<span>Tue;Thu;</span>
							</p>
						</li>
					</ul>
				</li-->
				<li>
					<div class="row">
						<div class="col s9">
							<a class="subheader red-text accent-4"><h3>Alarms</h3></a>
						</div>
						<div class="col s1" style="padding-top:10%">
							<a href="#add-alarm-modal" class="btn-floating btn-small waves-effect waves-light green modal-trigger" id="add_btn_alarm"><i class="material-icons">add</i></a>
							
							<div id="add-alarm-modal" class="modal transparent">
								<div class="modal-content red accent-3" style="border-radius:15px">
									<div class="row">
										<div class="col s12">
											<h4>New Alarm</h4>
										</div>
									</div>
									<div class="row">
										<div class="input-field inline col s12">
										  <i class="material-icons">alarm</i>
										  <input id="alarm-name-field" type="text" class="validate" placeholder="Alarm_Name">
										  <label for="alarm-name-field" >Alarm Name</label>
										</div>
									</div>
									<div class="row">
									
									</div>
									<div class="row">
									
									</div>
								</div>
							</div>
						</div>
					</div>
				</li>
				<li>
					<div class="collection" id="alarms_collection">
						{% for alarm in alarms %}
						<div class="row red darken-5">
							<div class="col s8 red darken-5">
								<a href="#!" class="collection-item red accent-1 red-text text-darken-4"><h5>{{ alarm.name }}</h5>
									<p>
										<span>{{ alarm.time }}</span><br>
										<span>{{ alarm.days }}</span>
									</p>
								</a>
							</div>
							<div class="col s1" style="padding-top:5%">
								<a class="btn-floating btn-small waves-effect waves-light red" id="remove_btn_alarm"><i class="material-icons">remove</i></a>
								<a class="btn-floating btn-small waves-effect waves-light amber" id="edit_btn_alarm"><i class="material-icons">edit</i></a>
							</div>
						</div>
						{% endfor %}
					 </div>
				</li>
			  </ul>
			  
			 <a href="#" data-target="slide-out" class="sidenav-trigger right"><i class="material-icons">menu</i></a>
			</nav>
		</div>
		
		
		
		  <div class="row">
			<div class="col s12 m12 l6">
			  <div class="card red darken-1 z-depth-5">
				  <span class="card-title" style="padding-left:1%">Daily Behavior</span>
				  <a class="btn-floating halfway-fab waves-effect waves-light teal accent-3"><i class="material-icons">add</i></a>
				<div class="card-content white">
				  <canvas id="BehaviorChart" width="300" height="300"></canvas>
				</div>
			  </div>
			</div>
			<div class="col s12 m12 l6">
			  <div class="card red darken-1 z-depth-5">
				  <span class="card-title" style="padding-left:1%">Weekly School Coverage</span>
				  <a class="btn-floating halfway-fab waves-effect waves-light teal accent-3"><i class="material-icons">add</i></a>
				<div class="card-content white">
				  <canvas id="SchoolCoverageChart" width="300" height="300"></canvas>
				</div>
			  </div>
			</div>
		  </div>	
		  
		<script>
			document.addEventListener('DOMContentLoaded', function() {
				var elems = document.querySelectorAll('.dropdown-trigger');
				var instances = M.Dropdown.init(elems);
				
				elems = document.querySelectorAll('.sidenav');
				instances = M.Sidenav.init(elems);
				
				var add_btn_alarm = document.getElementById('add_btn_alarm');
				add_btn_alarm.addEventListener("click", handle_add_alarm);
				
				var remove_btns = document.querySelectorAll('#remove_btn_alarm');
				for (i=0;i<remove_btns.length;i++){
					remove_btns[i].addEventListener("click", handle_remove_alarm);
				}
				var edit_btns = document.querySelectorAll('#edit_btn_alarm');
				for (i=0;i<remove_btns.length;i++){
					edit_btns[i].addEventListener("click", handle_edit_alarm);
				}
				
				//var modal = document.querySelectorAll('modal');
				
				var jquerymodal = $('.modal');  //convert to jQuery Element
				$('.modal').modal();
				jquerymodal.modal();
			  });
		
			var ctx_behavior = document.getElementById('BehaviorChart').getContext('2d');
			var myChart_behavior = new Chart(ctx_behavior, {
				type: 'bar',
				data: {
					labels: ['Marks Count'],
					datasets: [
						{
							label : 'Happy Marks',
							data : [12],
							backgroundColor : 'rgba(75, 192, 192, 0.2)',
							borderColor : 'rgba(75, 192, 192, 1)',
							borderWidth : 1 
						},
						{
							label : 'Sad Marks',
							data : [9],
							backgroundColor : 'rgba(255, 99, 132, 0.2)',
							borderColor : 'rgba(255, 99, 132, 1)',
							borderWidth : 1 
						},
						{
							label : 'Bonus Marks',
							data : [3],
							backgroundColor : 'rgba(255, 206, 86, 0.2)',
							borderColor : 'rgba(255, 206, 86, 1)',
							borderWidth : 1 
						}
					]},
				options: {
					responsive: true,
					plugins: {
						legend: {
							display: true,
							position: 'right'
						}
					},
					indexAxis: 'y',
					scales: {
						y: {
							beginAtZero: true
						}
					}
				 }
			});
		
			var ctx_school = document.getElementById('SchoolCoverageChart').getContext('2d');
			var myChart_school = new Chart(ctx_school, {
				type: 'polarArea',
				data: {
					labels: ['Math', 'Science', 'Reading', 'History', 'Writing', 'Art'],
					datasets: [{
						label: '# of Votes',
						data: [12, 19, 3, 5, 2, 3],
						backgroundColor: [
							'rgba(255, 99, 132, 0.2)',
							'rgba(54, 162, 235, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(75, 192, 192, 0.2)',
							'rgba(153, 102, 255, 0.2)',
							'rgba(255, 159, 64, 0.2)'
						],
						borderColor: [
							'rgba(255, 99, 132, 1)',
							'rgba(54, 162, 235, 1)',
							'rgba(255, 206, 86, 1)',
							'rgba(75, 192, 192, 1)',
							'rgba(153, 102, 255, 1)',
							'rgba(255, 159, 64, 1)'
						],
						borderWidth: 1
					}]
				}
			});
			
			
			
			
			function handle_edit_alarm(){
				var alarm_name = this.parentElement.parentElement.getElementsByTagName("a")[0].getElementsByTagName("h5")[0].innerHTML;
				console.log("Edit buttonn clicked for: " +alarm_name);
			}
			
			function handle_add_alarm(){
				console.log("Add button clicked.");
			}
			
			function handle_remove_alarm(){
				var alarm_name = this.parentElement.parentElement.getElementsByTagName("a")[0].getElementsByTagName("h5")[0].innerHTML;
				console.log("Remove buttonn clicked for: " +alarm_name);
			}
		</script>
	
	</body>
	
	

</html>
